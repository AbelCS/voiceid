#summary How to use Voiceid in python scripts
#labels Featured

= Introduction =

Using the library in Python scripts:
{{{
from voiceid.sr import Voiceid
from voiceid.db import GMMVoiceDB

#
#   create voice db   
#

db = GMMVoiceDB('mydir')

#add models to db: params the basename of 'giov_wave.wav' and the speaker, Giovanni
db.add_model('giov_wave', 'Giovanni')
db.add_model('fran_wave', 'Francesco')
db.add_model('luca_wave', 'Luca')
...


#
#   extract speakers from a file 
#

#process a video/audio file containing various speakers
v = Voiceid(db, 'myfile.mp4')

#extract the speakers from file and search into db 
v.extract_speakers()

#print the clusters (one for every speaker) and relative speakers' names 
for c in v.get_clusters():
    cluster = v.get_cluster(c)
    print cluster
    cluster.print_segments()
    print


#output

S0 (Luca)
00:00:42,980 to 00:00:49,140
00:00:50,040 to 00:00:53,280
00:00:54,150 to 00:00:59,500
00:00:59,590 to 00:01:01,780

S3 (Anna)
00:01:13,010 to 00:01:17,990
00:01:18,830 to 00:01:20,450
00:01:20,940 to 00:01:30,300
00:01:37,660 to 00:01:49,890
00:01:52,510 to 00:02:00,770

S4 (Giovanni)
00:05:29,630 to 00:05:31,820

S5 (Francesco)
00:02:56,260 to 00:03:13,350
00:03:13,350 to 00:03:33,210
00:03:33,210 to 00:03:37,610
00:03:37,610 to 00:03:47,340
00:03:47,700 to 00:03:51,310
00:03:51,600 to 00:03:53,660

}}}